{% extends 'base.html' %}

{% block content %}
{% if 'utilisateur' in session %}
{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/billeterie.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/background-festival-ete.css') }}">
{% endblock %}

<div class="bodyBillet">
    <div class="divCentral">
        <div class="divPositionPageBoutonBillet">
            <div class="divParentBoutonBillet">
                <button class="boutonBillet" onclick="afficherCalendrier()"><img class="imageBoutonbillet"
                        src="../static/imagesHtml/ticket_icon.webp" alt="">
                    <p class="PBoutonBillet">Pour une jounée<br> </p>
                </button>
                <button class="boutonBillet" onclick="afficherCalendrier()"><img class="imageBoutonbillet"
                        src="../static/imagesHtml/ticket_icon.webp" alt="">
                    <p class="PBoutonBillet"> Pour 2 jour<br> </p>
                </button>
                <button class="boutonBillet" onclick="afficherCalendrier()"><img class="imageBoutonbillet"
                        src="../static/imagesHtml/ticket_icon.webp" alt="">
                    <p class="PBoutonBillet">Pour tout la duree <br>du festival </p>
                </button>
            </div>
        </div>
        <div class="positionCalendrier" id="positionCalendrierID">
            <div class="container">
                <div class="calendar-assets">
                    <h1 id="currentDate"></h1>
                    <div class="field">
                        {{ form.date.label }}
                        <form method="post" action="billeterie_post" class="form-input">
                            {{ form.hidden_tag() }}
                            <div>
                                {{ form.date(size=20, class="text-field") }}
                                {% for error in form.date.errors %}
                                <span style="color: red;">{{ error }}</span>
                                {% endfor %}
                            </div>
                            <div>
                                <input type="submit" class="btn-small btn" value="Enregister">
                            </div>
                        </form>
                    </div>
                    <div class="day-assets">
                        <button class="btn" onclick="prevDay()" title="Dia anterior"><i class="fas fa-chevron-left"><</i>
                            </button>
                                <button class="btn" onclick="resetDate()" title="Dia atual"><i
                                        class="fas fa-calendar-day"></i>reset</button>
                                <button class="btn" onclick="nextDay()" title="Próximo dia"><i
                                        class="fas fa-chevron-right"></i> ></button>
                    </div>
                </div>
                <div class="calendar" id="table">
                    <div class="headerBillet">
                        <!-- Aqui é onde ficará o h1 com o mês e o ano -->
                        <div class="month" id="month-header">

                        </div>
                        <div class="buttons">
                            <button class="icon" onclick="prevMonth()" title="Mês anterior"><i class="fas fa-chevron-left"></i><</button>
                            <button class="icon" onclick="nextMonth()" title="Próximo mês"><i class="fas fa-chevron-right "></i>></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    var listeDate = {{ listeDate | tojson | safe }};
    var listeMoisJour = [];
</script>
<script src="../static/js/jsBilleterie.js"></script>

{% endif %}

{% if 'utilisateur' not in session %}
<div> Vous devez vous connecté
    <a href="{{ url_for('login') }}">Se connecter</a>
</div>
{% endif %}
{% endblock %}